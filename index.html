<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MemeGenerator - –°–æ–∑–¥–∞–π —Å–≤–æ–π –º–µ–º</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #292f36;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            color: white;
        }

        header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        h2 {
            font-size: 2rem;
            margin-bottom: 25px;
            color: #292f36;
            text-align: center;
        }

        .generator-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            align-items: start;
        }

        @media (max-width: 768px) {
            .generator-container {
                grid-template-columns: 1fr;
            }
        }

        .controls-panel {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
            border: 3px dashed #adb5bd;
        }

        .control-group {
            margin-bottom: 20px;
        }

        .control-label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: #292f36;
            font-size: 1rem;
        }

        .file-upload-btn {
            background: #ff6b6b;
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
            border: none;
            width: 100%;
            justify-content: center;
            font-size: 1rem;
            font-weight: 600;
        }

        .file-upload-btn:hover {
            background: #ff5252;
            transform: translateY(-2px);
        }

        .file-name {
            margin-top: 8px;
            font-size: 0.9rem;
            color: #666;
            text-align: center;
        }

        .text-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .text-input:focus {
            outline: none;
            border-color: #4ecdc4;
        }

        .text-controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        @media (max-width: 480px) {
            .text-controls {
                grid-template-columns: 1fr;
            }
        }

        .slider {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: #ddd;
            outline: none;
        }

        .color-picker {
            width: 100%;
            height: 40px;
            border: 2px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
        }

        .action-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 25px;
        }

        .btn {
            padding: 15px 25px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: #ff6b6b;
            color: white;
        }

        .btn-primary:hover {
            background: #ff5252;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: #4ecdc4;
            color: white;
        }

        .btn-secondary:hover {
            background: #3dbeb6;
            transform: translateY(-2px);
        }

        .preview-panel {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
            border: 3px dashed #adb5bd;
        }

        .preview-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .preview-header h3 {
            font-size: 1.5rem;
            color: #292f36;
        }

        .meme-canvas-container {
            background: white;
            border-radius: 8px;
            padding: 20px;
            min-height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        #memeCanvas {
            max-width: 100%;
            max-height: 350px;
            border-radius: 8px;
            display: none;
        }

        .canvas-placeholder {
            text-align: center;
            color: #adb5bd;
        }

        .placeholder-icon {
            font-size: 4rem;
            margin-bottom: 15px;
        }

        .theme-tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .theme-tab {
            padding: 10px 20px;
            background: white;
            border: 2px solid #adb5bd;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
        }

        .theme-tab.active {
            background: #4ecdc4;
            color: white;
            border-color: #4ecdc4;
        }

        .themes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }

        .theme-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s;
            border: 3px solid transparent;
            cursor: pointer;
        }

        .theme-card:hover {
            transform: translateY(-5px);
            border-color: #ffe66d;
        }

        .theme-image {
            width: 100%;
            height: 180px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
        }

        .theme-info {
            padding: 20px;
        }

        .theme-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: #292f36;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .theme-stats {
            display: flex;
            justify-content: space-between;
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }

        .theme-tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .theme-tag {
            background: #f7fff7;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            color: #292f36;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üé≠ MemeGenerator</h1>
            <p>–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∏ –¥–µ–ª–∏—Ç–µ—Å—å —Å–º–µ—à–Ω—ã–º–∏ –º–µ–º–∞–º–∏ –∑–∞ –ø–∞—Ä—É –∫–ª–∏–∫–æ–≤!</p>
        </header>

        <main>
            <section class="section">
                <h2>üé® –°–æ–∑–¥–∞–π —Å–≤–æ–π –º–µ–º</h2>
                
                <div class="generator-container">
                    <div class="controls-panel">
                        <div class="control-group">
                            <label class="control-label">üìÅ –í—ã–±–µ—Ä–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</label>
                            <button class="file-upload-btn" id="uploadBtn">
                                üì∏ –í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª
                            </button>
                            <input type="file" id="imageUpload" accept="image/*" style="display: none;">
                            <div class="file-name" id="fileName">–§–∞–π–ª –Ω–µ –≤—ã–±—Ä–∞–Ω</div>
                        </div>
                        
                        <div class="control-group">
                            <label class="control-label">üìù –í–µ—Ä—Ö–Ω–∏–π —Ç–µ–∫—Å—Ç</label>
                            <input type="text" class="text-input" id="topText" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è –≤–µ—Ä—Ö–∞ –º–µ–º–∞...">
                        </div>
                        
                        <div class="control-group">
                            <label class="control-label">üìù –ù–∏–∂–Ω–∏–π —Ç–µ–∫—Å—Ç</label>
                            <input type="text" class="text-input" id="bottomText" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è –Ω–∏–∑–∞ –º–µ–º–∞...">
                        </div>
                        
                        <div class="text-controls">
                            <div class="control-group">
                                <label class="control-label">–†–∞–∑–º–µ—Ä —Ç–µ–∫—Å—Ç–∞</label>
                                <input type="range" id="textSize" min="20" max="60" value="30" class="slider">
                            </div>
                            
                            <div class="control-group">
                                <label class="control-label">–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞</label>
                                <input type="color" id="textColor" value="#ffffff" class="color-picker">
                            </div>
                        </div>
                        
                        <div class="action-buttons">
                            <button class="btn btn-primary" id="generateBtn">
                                üé® –°–æ–∑–¥–∞—Ç—å –º–µ–º
                            </button>
                            <button class="btn btn-secondary" id="downloadBtn">
                                üíæ –°–∫–∞—á–∞—Ç—å –º–µ–º
                            </button>
                        </div>
                    </div>
                    
                    <div class="preview-panel">
                        <div class="preview-header">
                            <h3>–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä</h3>
                            <button class="btn btn-secondary" id="clearBtn" style="padding: 8px 15px;">
                                –û—á–∏—Å—Ç–∏—Ç—å
                            </button>
                        </div>
                        <div class="meme-canvas-container">
                            <canvas id="memeCanvas" width="500" height="400"></canvas>
                            <div class="canvas-placeholder" id="canvasPlaceholder">
                                <div class="placeholder-icon">üìÅ</div>
                                <p>–ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–µ–º–∞</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="section">
                <h2>üìÇ –¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ–º—ã</h2>
                
                <div class="theme-tabs">
                    <button class="theme-tab active" data-theme="all">–í—Å–µ</button>
                    <button class="theme-tab" data-theme="work">üíº –†–∞–±–æ—Ç–∞</button>
                    <button class="theme-tab" data-theme="study">üéì –£—á–µ–±–∞</button>
                    <button class="theme-tab" data-theme="holidays">üéâ –ü—Ä–∞–∑–¥–Ω–∏–∫–∏</button>
                    <button class="theme-tab" data-theme="animals">üêæ –ñ–∏–≤–æ—Ç–Ω—ã–µ</button>
                </div>
                
                <div class="themes-grid" id="themesGrid">
                    <!-- –ú–µ–º—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                </div>
            </section>
        </main>
    </div>

    <script>
        // –î–∞–Ω–Ω—ã–µ —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ–º–æ–≤
        const memeData = [
            {
                id: 1,
                title: "üíº –†–∞–±–æ—Ç–∞",
                likes: 245,
                comments: 34,
                views: 1200,
                tags: ["–æ—Ñ–∏—Å", "–Ω–∞—á–∞–ª—å–Ω–∏–∫", "–¥–µ–¥–ª–∞–π–Ω", "–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫"],
                theme: "work"
            },
            {
                id: 2,
                title: "üéì –£—á–µ–±–∞",
                likes: 189,
                comments: 28,
                views: 987,
                tags: ["—Å–µ—Å—Å–∏—è", "—Å—Ç—É–¥–µ–Ω—Ç—ã", "—ç–∫–∑–∞–º–µ–Ω—ã", "–¥–æ–º–∞—à–∫–∞"],
                theme: "study"
            },
            {
                id: 3,
                title: "üéâ –ü—Ä–∞–∑–¥–Ω–∏–∫–∏",
                likes: 312,
                comments: 45,
                views: 1500,
                tags: ["–ù–æ–≤—ã–π –ì–æ–¥", "–¥–Ω–∏ —Ä–æ–∂–¥–µ–Ω–∏—è", "–æ—Ç–ø—É—Å–∫", "–≤–µ—á–µ—Ä–∏–Ω–∫–∞"],
                theme: "holidays"
            },
            {
                id: 4,
                title: "üêæ –ñ–∏–≤–æ—Ç–Ω—ã–µ",
                likes: 421,
                comments: 67,
                views: 2100,
                tags: ["–∫–æ—Ç—ã", "—Å–æ–±–∞–∫–∏", "–º–∏–ª—ã–µ", "–∑–∞–±–∞–≤–Ω—ã–µ"],
                theme: "animals"
            },
            {
                id: 5,
                title: "üíª IT –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏",
                likes: 334,
                comments: 52,
                views: 1800,
                tags: ["–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ", "–≥–∞–¥–∂–µ—Ç—ã", "–∏–Ω—Ç–µ—Ä–Ω–µ—Ç", "–±–∞–≥–∏"],
                theme: "work"
            },
            {
                id: 6,
                title: "üçï –ï–¥–∞",
                likes: 278,
                comments: 38,
                views: 1350,
                tags: ["—Ä–µ—Ü–µ–ø—Ç—ã", "–¥–∏–µ—Ç–∞", "–≤–∫—É—Å–Ω–æ", "–≥–æ—Ç–æ–≤–∫–∞"],
                theme: "holidays"
            }
        ];

        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let currentImage = null;

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
        });

        function initializeApp() {
            setupEventListeners();
            loadThemes();
            drawPlaceholder();
        }

        function setupEventListeners() {
            // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
            const imageUpload = document.getElementById('imageUpload');
            const uploadBtn = document.getElementById('uploadBtn');
            const fileName = document.getElementById('fileName');
            
            uploadBtn.addEventListener('click', function() {
                imageUpload.click();
            });
            
            imageUpload.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    fileName.textContent = file.name;
                    const reader = new FileReader();
                    reader.onload = function(event) {
                        const img = new Image();
                        img.onload = function() {
                            currentImage = img;
                            drawMeme();
                        };
                        img.src = event.target.result;
                    };
                    reader.readAsDataURL(file);
                }
            });
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞
            document.getElementById('topText').addEventListener('input', drawMeme);
            document.getElementById('bottomText').addEventListener('input', drawMeme);
            document.getElementById('textSize').addEventListener('input', drawMeme);
            document.getElementById('textColor').addEventListener('input', drawMeme);
            
            // –ö–Ω–æ–ø–∫–∏
            document.getElementById('generateBtn').addEventListener('click', drawMeme);
            document.getElementById('downloadBtn').addEventListener('click', downloadMeme);
            document.getElementById('clearBtn').addEventListener('click', clearCanvas);
            
            // –¢–∞–±—ã —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ–º–æ–≤
            document.querySelectorAll('.theme-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    document.querySelectorAll('.theme-tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    const theme = this.getAttribute('data-theme');
                    loadThemes(theme);
                });
            });
        }

        function drawPlaceholder() {
            const canvas = document.getElementById('memeCanvas');
            const placeholder = document.getElementById('canvasPlaceholder');
            canvas.style.display = 'none';
            placeholder.style.display = 'block';
        }

        function drawMeme() {
            const canvas = document.getElementById('memeCanvas');
            const ctx = canvas.getContext('2d');
            const placeholder = document.getElementById('canvasPlaceholder');
            
            if (!currentImage) {
                drawPlaceholder();
                return;
            }
            
            // –û—á–∏—Å—Ç–∫–∞ canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // –†–∏—Å–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
            const scale = Math.min(canvas.width / currentImage.width, canvas.height / currentImage.height);
            const width = currentImage.width * scale;
            const height = currentImage.height * scale;
            const x = (canvas.width - width) / 2;
            const y = (canvas.height - height) / 2;
            
            ctx.drawImage(currentImage, x, y, width, height);
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ–∫—Å—Ç–∞
            const textSize = parseInt(document.getElementById('textSize').value);
            const textColor = document.getElementById('textColor').value;
            
            ctx.fillStyle = textColor;
            ctx.strokeStyle = 'black';
            ctx.lineWidth = 3;
            ctx.textAlign = 'center';
            ctx.font = `bold ${textSize}px Arial`;
            
            // –í–µ—Ä—Ö–Ω–∏–π —Ç–µ–∫—Å—Ç
            const topText = document.getElementById('topText').value;
            if (topText) {
                ctx.fillText(topText.toUpperCase(), canvas.width / 2, 50);
                ctx.strokeText(topText.toUpperCase(), canvas.width / 2, 50);
            }
            
            // –ù–∏–∂–Ω–∏–π —Ç–µ–∫—Å—Ç
            const bottomText = document.getElementById('bottomText').value;
            if (bottomText) {
                ctx.fillText(bottomText.toUpperCase(), canvas.width / 2, canvas.height - 30);
                ctx.strokeText(bottomText.toUpperCase(), canvas.width / 2, canvas.height - 30);
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º canvas
            canvas.style.display = 'block';
            placeholder.style.display = 'none';
        }

        function downloadMeme() {
            if (!currentImage) {
                alert('–°–Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ!');
                return;
            }
            
            const canvas = document.getElementById('memeCanvas');
            const link = document.createElement('a');
            link.download = 'my-meme.png';
            link.href = canvas.toDataURL();
            link.click();
        }

        function clearCanvas() {
            document.getElementById('topText').value = '';
            document.getElementById('bottomText').value = '';
            document.getElementById('imageUpload').value = '';
            document.getElementById('fileName').textContent = '–§–∞–π–ª –Ω–µ –≤—ã–±—Ä–∞–Ω';
            document.getElementById('textSize').value = 30;
            document.getElementById('textColor').value = '#ffffff';
            currentImage = null;
            drawPlaceholder();
        }

        function loadThemes(theme = 'all') {
            const container = document.getElementById('themesGrid');
            container.innerHTML = '';
            
            const filteredMemes = theme === 'all' 
                ? memeData 
                : memeData.filter(meme => meme.theme === theme);
            
            filteredMemes.forEach(meme => {
                const card = document.createElement('div');
                card.className = 'theme-card';
                card.innerHTML = `
                    <div class="theme-image"></div>
                    <div class="theme-info">
                        <div class="theme-title">${meme.title}</div>
                        <div class="theme-stats">
                            <span>üëç ${meme.likes}</span>
                            <span>üí¨ ${meme.comments}</span>
                            <span>üëÅ ${meme.views}</span>
                        </div>
                        <div class="theme-tags">
                            ${meme.tags.map(tag => `<span class="theme-tag">${tag}</span>`).join('')}
                        </div>
                    </div>
                `;
                
                card.addEventListener('click', function() {
                    alert(`–û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Ä–∞–∑–¥–µ–ª: ${meme.title}`);
                });
                
                container.appendChild(card);
            });
        }
    </script>
</body>
</html>
